<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>alfanous.whoosh.query.Query</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="alfanous-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="alfanous.sourceforge.com">Alfanous</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="alfanous-module.html">Package&nbsp;alfanous</a> ::
        <a href="alfanous.whoosh-module.html">Package&nbsp;whoosh</a> ::
        <a href="alfanous.whoosh.query-module.html">Module&nbsp;query</a> ::
        Class&nbsp;Query
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="alfanous.whoosh.query.Query-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class Query</h1><p class="nomargin-top"><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query">source&nbsp;code</a></span></p>
<pre class="base-tree">
object --+
         |
        <strong class="uidshort">Query</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
      <ul class="subclass-list">
<li class="private"><a href="alfanous.whoosh.query.MultiTerm-class.html" onclick="show_private();">MultiTerm</a></li><li class="private">, <a href="alfanous.whoosh.query.CompoundQuery-class.html" onclick="show_private();">CompoundQuery</a></li><li>, <a href="alfanous.whoosh.query.AndNot-class.html">AndNot</a></li><li class="private">, <a href="alfanous.whoosh.query.Every-class.html" onclick="show_private();">Every</a></li><li>, <a href="alfanous.whoosh.query.Not-class.html">Not</a></li><li>, <a href="alfanous.whoosh.query.Term-class.html">Term</a></li>  </ul>
</dd></dl>

<hr />
<p>Abstract base class for all queries.</p>
  <p>Note that this base class implements __or__, __and__, and __sub__ to 
  allow slightly more convenient composition of query objects:</p>
<pre class="literalblock">
   &gt;&gt;&gt; Term(&quot;content&quot;, u&quot;a&quot;) | Term(&quot;content&quot;, u&quot;b&quot;)
   Or([Term(&quot;content&quot;, u&quot;a&quot;), Term(&quot;content&quot;, u&quot;b&quot;)])
   
   &gt;&gt;&gt; Term(&quot;content&quot;, u&quot;a&quot;) &amp; Term(&quot;content&quot;, u&quot;b&quot;)
   And([Term(&quot;content&quot;, u&quot;a&quot;), Term(&quot;content&quot;, u&quot;b&quot;)])
   
   &gt;&gt;&gt; Term(&quot;content&quot;, u&quot;a&quot;) - Term(&quot;content&quot;, u&quot;b&quot;)
   And([Term(&quot;content&quot;, u&quot;a&quot;), Not(Term(&quot;content&quot;, u&quot;b&quot;))])
</pre>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__or__"></a><span class="summary-sig-name">__or__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">query</span>)</span><br />
      Allows you to use | between query objects to wrap them in an Or 
      query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.__or__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__and__"></a><span class="summary-sig-name">__and__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">query</span>)</span><br />
      Allows you to use &amp; between query objects to wrap them in an And 
      query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.__and__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__sub__"></a><span class="summary-sig-name">__sub__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">query</span>)</span><br />
      Allows you to use - between query objects to add the right-hand query
      as a &quot;NOT&quot; query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.__sub__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.query.Query-class.html#all_terms" class="summary-sig-name">all_terms</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">termset</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">phrases</span>=<span class="summary-sig-default">True</span>)</span><br />
      Returns a set of all terms in this query tree.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.all_terms">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.query.Query-class.html#existing_terms" class="summary-sig-name">existing_terms</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ixreader</span>,
        <span class="summary-sig-arg">termset</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">reverse</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">phrases</span>=<span class="summary-sig-default">True</span>)</span><br />
      Returns a set of all terms in this query tree that exist in the index
represented by the given ixreaderder.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.existing_terms">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.query.Query-class.html#estimate_size" class="summary-sig-name">estimate_size</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ixreader</span>)</span><br />
      Returns an estimate of how many documents this query could 
      potentially match (for example, the estimated size of a simple term 
      query is the document frequency of the term).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.estimate_size">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.query.Query-class.html#scorer" class="summary-sig-name">scorer</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">searcher</span>,
        <span class="summary-sig-arg">exclude_docs</span>=<span class="summary-sig-default">None</span>)</span><br />
      Returns :class:`~whoosh.postings.QueryScorer` object you can use to 
      retrieve documents and scores matching this query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.scorer">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.query.Query-class.html#docs" class="summary-sig-name">docs</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">searcher</span>,
        <span class="summary-sig-arg">exclude_docs</span>=<span class="summary-sig-default">None</span>)</span><br />
      Returns an iterator of docnums matching this query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.docs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.query.Query-class.html#doc_scores" class="summary-sig-name">doc_scores</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">searcher</span>,
        <span class="summary-sig-arg">exclude_docs</span>=<span class="summary-sig-default">None</span>)</span><br />
      Returns an iterator of (docnum, score) pairs matching this query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.doc_scores">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.query.Query-class.html#normalize" class="summary-sig-name">normalize</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Returns a recursively &quot;normalized&quot; form of this query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.normalize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="simplify"></a><span class="summary-sig-name">simplify</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ixreader</span>)</span><br />
      Returns a recursively simplified form of this query, where 
      &quot;second-order&quot; queries (such as Prefix and Variations) are 
      re-written into lower-level queries (such as Term and Or).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.simplify">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.query.Query-class.html#replace" class="summary-sig-name">replace</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">oldtext</span>,
        <span class="summary-sig-arg">newtext</span>)</span><br />
      Returns a copy of this query with oldtext replaced by newtext (if 
      oldtext was anywhere in this query).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.replace">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="accept"></a><span class="summary-sig-name">accept</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">visitor</span>)</span><br />
      Accepts a &quot;visitor&quot; function, applies it to any sub-queries
      and then to this object itself, and returns the result.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.accept">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__init__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="all_terms"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">all_terms</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">termset</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">phrases</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.all_terms">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a set of all terms in this query tree.</p>
  <p>This method simply operates on the query itself, without reference to 
  an index (unlike existing_terms()), so it will *not* add terms that 
  require an index to compute, such as Prefix and Wildcard.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>q = And([Term(<span class="py-string">&quot;content&quot;</span>, u<span class="py-string">&quot;render&quot;</span>), Term(<span class="py-string">&quot;path&quot;</span>, u<span class="py-string">&quot;/a/b&quot;</span>)])
<span class="py-prompt">&gt;&gt;&gt; </span>q.all_terms()
<span class="py-output">set([(&quot;content&quot;, u&quot;render&quot;), (&quot;path&quot;, u&quot;/a/b&quot;)])</span></pre>
  <p>:param phrases: Whether to add words found in Phrase queries. :rtype: 
  set</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="existing_terms"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">existing_terms</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ixreader</span>,
        <span class="sig-arg">termset</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">reverse</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">phrases</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.existing_terms">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Returns a set of all terms in this query tree that exist in the index
represented by the given ixreaderder.

This method references the IndexReader to expand Prefix and Wildcard
queries, and only adds terms that actually exist in the index (unless
reverse=True).

&gt;&gt;&gt; ixreader = my_index.reader()
&gt;&gt;&gt; q = And([Or([Term(&quot;content&quot;, u&quot;render&quot;), Term(&quot;content&quot;, u&quot;rendering&quot;)]),
             Prefix(&quot;path&quot;, u&quot;/a/&quot;)])
&gt;&gt;&gt; q.existing_terms(ixreader, termset)
set([(&quot;content&quot;, u&quot;render&quot;), (&quot;path&quot;, u&quot;/a/b&quot;), (&quot;path&quot;, u&quot;/a/c&quot;)])

:param ixreader: A :class:`whoosh.reading.IndexReader` object.
:param reverse: If True, this method adds *missing* terms
    rather than *existing* terms to the set.
:param phrases: Whether to add words found in Phrase queries.
:rtype: set

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="estimate_size"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">estimate_size</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ixreader</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.estimate_size">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns an estimate of how many documents this query could potentially
  match (for example, the estimated size of a simple term query is the 
  document frequency of the term). It is permissible to overestimate, but 
  not to underestimate.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="scorer"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">scorer</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">searcher</span>,
        <span class="sig-arg">exclude_docs</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.scorer">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns :class:`~whoosh.postings.QueryScorer` object you can use to 
  retrieve documents and scores matching this query.</p>
  <p>:rtype: :class:`whoosh.postings.QueryScorer`</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="docs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">docs</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">searcher</span>,
        <span class="sig-arg">exclude_docs</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.docs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Returns an iterator of docnums matching this query.

&gt;&gt;&gt; searcher = my_index.searcher()
&gt;&gt;&gt; list(my_query.docs(searcher))
[10, 34, 78, 103]

:param searcher: A :class:`whoosh.searching.Searcher` object.
:param exclude_docs: A :class:`~whoosh.support.bitvector.BitVector`
    of document numbers to exclude from the results, or None to not
    exclude any documents.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="doc_scores"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">doc_scores</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">searcher</span>,
        <span class="sig-arg">exclude_docs</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.doc_scores">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Returns an iterator of (docnum, score) pairs matching this query.
This is a convenience method for when you don't need a QueryScorer
(i.e. you don't need to use skip_to).

&gt;&gt;&gt; list(my_query.doc_scores(ixreader))
[(10, 0.73), (34, 2.54), (78, 0.05), (103, 12.84)]

:param searcher: A :class:`whoosh.searching.Searcher` object.
:param exclude_docs: A :class:`~whoosh.support.bitvector.BitVector`
    of document numbers to exclude from the results, or None to not
    exclude any documents.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="normalize"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">normalize</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.normalize">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a recursively &quot;normalized&quot; form of this query. The 
  normalized form removes redundancy and empty queries. This is called 
  automatically on query trees created by the query parser, but you may 
  want to call it yourself if you're writing your own parser or building 
  your own queries.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>q = And([And([Term(<span class="py-string">&quot;f&quot;</span>, u<span class="py-string">&quot;a&quot;</span>), Term(<span class="py-string">&quot;f&quot;</span>, u<span class="py-string">&quot;b&quot;</span>)]), Term(<span class="py-string">&quot;f&quot;</span>, u<span class="py-string">&quot;c&quot;</span>), Or([])])
<span class="py-prompt">&gt;&gt;&gt; </span>q.normalize()
<span class="py-output">And([Term(&quot;f&quot;, u&quot;a&quot;), Term(&quot;f&quot;, u&quot;b&quot;), Term(&quot;f&quot;, u&quot;c&quot;)])</span></pre>
  <p>Note that this returns a *new, normalized* query. It *does not* modify
  the original query &quot;in place&quot;.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="replace"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">replace</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">oldtext</span>,
        <span class="sig-arg">newtext</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.query-pysrc.html#Query.replace">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a copy of this query with oldtext replaced by newtext (if 
  oldtext was anywhere in this query).</p>
  <p>Note that this returns a *new* query with the given text replaced. It 
  *does not* modify the original query &quot;in place&quot;.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="alfanous-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="alfanous.sourceforge.com">Alfanous</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Mar 18 03:28:31 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
