<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>alfanous.whoosh.lang.wordnet.Thesaurus</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="alfanous-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="alfanous.sourceforge.com">Alfanous</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="alfanous-module.html">Package&nbsp;alfanous</a> ::
        <a href="alfanous.whoosh-module.html">Package&nbsp;whoosh</a> ::
        <a href="alfanous.whoosh.lang-module.html">Package&nbsp;lang</a> ::
        <a href="alfanous.whoosh.lang.wordnet-module.html">Module&nbsp;wordnet</a> ::
        Class&nbsp;Thesaurus
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="alfanous.whoosh.lang.wordnet.Thesaurus-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class Thesaurus</h1><p class="nomargin-top"><span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus">source&nbsp;code</a></span></p>
<pre class="base-tree">
object --+
         |
        <strong class="uidshort">Thesaurus</strong>
</pre>

<hr />
<pre class="literalblock">
Represents the WordNet synonym database, either loaded into memory
from the wn_s.pl Prolog file, or stored on disk in a Whoosh index.

This class allows you to parse the prolog file &quot;wn_s.pl&quot; from the WordNet prolog
download into an object suitable for looking up synonyms and performing query
expansion.

http://wordnetcode.princeton.edu/3.0/WNprolog-3.0.tar.gz

To load a Thesaurus object from the wn_s.pl file...

&gt;&gt;&gt; t = Thesaurus.from_filename(&quot;wn_s.pl&quot;)

To save the in-memory Thesaurus to a Whoosh index...

&gt;&gt;&gt; from whoosh.filedb.filestore import FileStorage
&gt;&gt;&gt; fs = FileStorage(&quot;index&quot;)
&gt;&gt;&gt; t.to_storage(fs)

To load a Thesaurus object from a Whoosh index...

&gt;&gt;&gt; t = Thesaurus.from_storage(fs)

The Thesaurus object is thus usable in two ways:

* Parse the wn_s.pl file into memory (Thesaurus.from_*) and then look up
  synonyms in memory. This has a startup cost for parsing the file, and uses
  quite a bit of memory to store two large dictionaries, however synonym
  look-ups are very fast.
  
* Parse the wn_s.pl file into memory (Thesaurus.from_filename) then save it to
  an index (to_storage). From then on, open the thesaurus from the saved
  index (Thesaurus.from_storage). This has a large cost for storing the index,
  but after that it is faster to open the Thesaurus (than re-parsing the file)
  but slightly slower to look up synonyms.

Here are timings for various tasks on my (fast) Windows machine, which might
give an idea of relative costs for in-memory vs. on-disk.

================================================ ================
Task                                             Approx. time (s)
================================================ ================
Parsing the wn_s.pl file                         1.045
Saving to an on-disk index                       13.084
Loading from an on-disk index                    0.082
Look up synonyms for &quot;light&quot; (in memory)         0.0011
Look up synonyms for &quot;light&quot; (loaded from disk)  0.0028
================================================ ================

Basically, if you can afford spending the memory necessary to parse the
Thesaurus and then cache it, it's faster. Otherwise, use an on-disk index.

</pre>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.lang.wordnet.Thesaurus-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>)</span><br />
      x.__init__(...) initializes x; see x.__class__.__doc__ for signature</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.lang.wordnet.Thesaurus-class.html#to_storage" class="summary-sig-name">to_storage</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">storage</span>,
        <span class="summary-sig-arg">indexname</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">THES</code><code class="variable-quote">'</code></span>)</span><br />
      Creates am index in the given storage object from the
synonyms loaded from a WordNet file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.to_storage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.lang.wordnet.Thesaurus-class.html#synonyms" class="summary-sig-name">synonyms</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">word</span>)</span><br />
      Returns a list of synonyms for the given word.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.synonyms">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS METHODS ==================== -->
<a name="section-ClassMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.lang.wordnet.Thesaurus-class.html#from_file" class="summary-sig-name">from_file</a>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">fileobj</span>)</span><br />
      Creates a Thesaurus object from the given file-like object, which 
      should contain the WordNet wn_s.pl file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.from_file">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.lang.wordnet.Thesaurus-class.html#from_filename" class="summary-sig-name">from_filename</a>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">filename</span>)</span><br />
      Creates a Thesaurus object from the given filename, which should 
      contain the WordNet wn_s.pl file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.from_filename">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="alfanous.whoosh.lang.wordnet.Thesaurus-class.html#from_storage" class="summary-sig-name">from_storage</a>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">storage</span>,
        <span class="summary-sig-arg">indexname</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">THES</code><code class="variable-quote">'</code></span>)</span><br />
      Creates a Thesaurus object from the given storage object,
which should contain an index created by Thesaurus.to_storage().</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.from_storage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>x.__init__(...) initializes x; see x.__class__.__doc__ for 
  signature</p>
  <dl class="fields">
    <dt>Overrides:
        object.__init__
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="from_file"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">from_file</span>(<span class="sig-arg">cls</span>,
        <span class="sig-arg">fileobj</span>)</span>
    <br /><em class="fname">Class Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.from_file">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a Thesaurus object from the given file-like object, which 
  should contain the WordNet wn_s.pl file.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>f = open(<span class="py-string">&quot;wn_s.pl&quot;</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>t = Thesaurus.from_file(f)
<span class="py-prompt">&gt;&gt;&gt; </span>t.synonyms(<span class="py-string">&quot;hail&quot;</span>)
<span class="py-output">['acclaim', 'come', 'herald']</span></pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="from_filename"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">from_filename</span>(<span class="sig-arg">cls</span>,
        <span class="sig-arg">filename</span>)</span>
    <br /><em class="fname">Class Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.from_filename">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a Thesaurus object from the given filename, which should 
  contain the WordNet wn_s.pl file.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>t = Thesaurus.from_filename(<span class="py-string">&quot;wn_s.pl&quot;</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>t.synonyms(<span class="py-string">&quot;hail&quot;</span>)
<span class="py-output">['acclaim', 'come', 'herald']</span></pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="from_storage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">from_storage</span>(<span class="sig-arg">cls</span>,
        <span class="sig-arg">storage</span>,
        <span class="sig-arg">indexname</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">THES</code><code class="variable-quote">'</code></span>)</span>
    <br /><em class="fname">Class Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.from_storage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Creates a Thesaurus object from the given storage object,
which should contain an index created by Thesaurus.to_storage().

&gt;&gt;&gt; from whoosh.filedb.filestore import FileStorage
&gt;&gt;&gt; fs = FileStorage(&quot;index&quot;)
&gt;&gt;&gt; t = Thesaurus.from_storage(fs)
&gt;&gt;&gt; t.synonyms(&quot;hail&quot;)
['acclaim', 'come', 'herald']

:param storage: A :class:`whoosh.store.Storage` object from
    which to load the index.
:param indexname: A name for the index. This allows you to
    store multiple indexes in the same storage object.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="to_storage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">to_storage</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">storage</span>,
        <span class="sig-arg">indexname</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">THES</code><code class="variable-quote">'</code></span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.to_storage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Creates am index in the given storage object from the
synonyms loaded from a WordNet file.

&gt;&gt;&gt; from whoosh.filedb.filestore import FileStorage
&gt;&gt;&gt; fs = FileStorage(&quot;index&quot;)
&gt;&gt;&gt; t = Thesaurus.from_filename(&quot;wn_s.pl&quot;)
&gt;&gt;&gt; t.to_storage(fs)

:param storage: A :class:`whoosh.store.Storage` object in
    which to save the index.
:param indexname: A name for the index. This allows you to
    store multiple indexes in the same storage object.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="synonyms"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">synonyms</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">word</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="alfanous.whoosh.lang.wordnet-pysrc.html#Thesaurus.synonyms">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a list of synonyms for the given word.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>thesaurus.synonyms(<span class="py-string">&quot;hail&quot;</span>)
<span class="py-output">['acclaim', 'come', 'herald']</span></pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="alfanous-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="alfanous.sourceforge.com">Alfanous</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Mar 18 03:28:30 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
